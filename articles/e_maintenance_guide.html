<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DescrTab2">
<title>Maintenance guidance • DescrTab2</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Maintenance guidance">
<meta property="og:description" content="DescrTab2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DescrTab2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.26</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a_usage_guide.html">Usage guidance</a>
    <a class="dropdown-item" href="../articles/b_test_choice_tree.pdf">Test choice tree (PDF)</a>
    <a class="dropdown-item" href="../articles/c_other_software_comparison.html">Comparison with other software</a>
    <a class="dropdown-item" href="../articles/d_validation_statement.html">Validation statement</a>
    <a class="dropdown-item" href="../articles/e_maintenance_guide.html">Maintenance guidance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/imbi-heidelberg/DescrTab2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Maintenance guidance</h1>
            
            <h4 data-toc-skip class="date">2024-01-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/imbi-heidelberg/DescrTab2/blob/HEAD/vignettes/e_maintenance_guide.Rmd" class="external-link"><code>vignettes/e_maintenance_guide.Rmd</code></a></small>
      <div class="d-none name"><code>e_maintenance_guide.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="intoduction">Intoduction<a class="anchor" aria-label="anchor" href="#intoduction"></a>
</h2>
<p><code>DescrTab2</code> is a powerful package with vast customization
options. With this, unfortunately, comes code that has to deal with
quite a bit of special cases an exceptions. This document aims to
describe the flow of control of the <code>DescrTab2</code> package, so
that future generations may continue development and successfully fix
potential bugs.</p>
</div>
<div class="section level2">
<h2 id="flow-of-control">Flow of control<a class="anchor" aria-label="anchor" href="#flow-of-control"></a>
</h2>
<div class="section level3">
<h3 id="descr">descr<a class="anchor" aria-label="anchor" href="#descr"></a>
</h3>
<p>The user interfaces mostly with the <code>descr</code> function.
<code>descr</code> does all the calculations, i.e. the evaluation of the
summary statistics on the data (mean, sd, median, etc. for continuous
variables and counts for categorical variables) and the calculation of
statistical tests. For this <code>descr</code> calls the
<code>descr_cat</code> and <code>descr_cont</code> functions, which
evaluate the list of summary statistics on the data.
<code>descr_cat</code> then calls <code>test_cat</code> and
<code>descr_cont</code> calls <code>test_cont</code>, which calculate
appropriate statistical tests. A detailed description for the choice of
test can be read in the “Test choice” vignette.</p>
<p><code>descr</code> returns a <code>DescrList</code> object, which is
basically a named list containing all calculation results and the
formatting options.</p>
</div>
<div class="section level3">
<h3 id="print">print<a class="anchor" aria-label="anchor" href="#print"></a>
</h3>
<p>To turn a <code>DescrList</code> object into pretty output, the
object has to be passed to the print function. <code>print</code> is a
generic function. This means that if a <code>DescrList</code> object is
passed to <code>print</code>, the specialized
<code>print.DescrList</code> function will be invoked automatically.</p>
<div class="section level4">
<h4 id="preprocessing">Preprocessing<a class="anchor" aria-label="anchor" href="#preprocessing"></a>
</h4>
<p>Since the proper output format is highly document type dependent,
<code>print.DescrList</code> creates output in two steps. The first step
is independent of the output format: The creation of a
<code>DescrPrintObj</code> by calling the <code>create_printObj</code>
function.</p>
<p>In this function, proper formatting is applied to the results in the
<code>DescrList</code> and the formatted values are saved inside a
tibble. Formatting in this case means converting numbers to characters,
reducing the number of decimal digits, combining variables like “Q1” and
“Q3” into “Q1 - Q3”, formatting small p values to display as “&lt;0.001”
and adding “%” values to categorical variables.</p>
<p>Somewhat of an exception is the case
<code>printFormat="numeric"</code>. Here, numbers are not converted
characters and consequently very little formatting can be applied.</p>
<p>The formatting in <code>create_printObj</code> is done by iterating
over all variables in the <code>DescrList</code> object and creating an
appropriate sub-table by calling one of
<code>create_numeric_subtable.cat_summary</code>,
<code>create_numeric_subtable.cont_summary</code>,
<code>create_character_subtable.cat_summary</code> or
<code>create_character_subtable.cont_summary</code>. Whether
<code>create_numeric_subtable</code> or
<code>create_character_subtable</code> is called is determined by the
<code>printFormat</code> option (all options lead to
<code>create_character_subtable</code> except
<code>printFormat="numeric</code>). Whether <code>.cat_summary</code> or
<code>.cont_summary</code> is called depends on the type of variable.
The sub-tables are then concatenated to a master table.</p>
</div>
<div class="section level4">
<h4 id="postprocessing">Postprocessing<a class="anchor" aria-label="anchor" href="#postprocessing"></a>
</h4>
<p>The <code>DescrPintObj</code> is the transformed into appropriate
output format by calling one of <code>print_tex</code>,
<code>print_html</code>, <code>print_word</code>,
<code>print_console</code> or <code>print_numeric</code>.</p>
<p><code>print_console</code> basically prints the tibble that is
produces by <code>create_printObj</code> using a slightly modified
version of the default method for printing tibbles.</p>
<p><code>print_numeric</code> basically prints the tibble produces by
<code>create_printObj</code> if <code>printFormat="numeric"</code> was
specified.</p>
<p><code>print_tex</code> and <code>print_html</code> use kableExtra to
convert the tibble from <code>create_printObj</code> into raw tex or
html output. Some special formatting has to be applied to these outputs
to accomodate for superscripts and to escape special LaTeX
characters.</p>
<p><code>print_word</code> produces a flextable object from the tibble
returned by <code>create_printObj</code>. flextables play relatively
nicely with word.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jan Meis, Lukas Baumann, Maximilian Pilz, Lukas Sauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
