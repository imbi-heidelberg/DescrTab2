<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maintenance guidance • DescrTab2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Maintenance guidance">
<meta property="og:description" content="DescrTab2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DescrTab2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a_usage_guide.html">Usage guidance</a>
    </li>
    <li>
      <a href="../articles/b_test_choice_tree_pdf.pdf">Test choice tree (PDF)</a>
    </li>
    <li>
      <a href="../articles/c_other_software_comparison.html">Comparison with other software</a>
    </li>
    <li>
      <a href="../articles/d_validation_statement.html">Validation statement</a>
    </li>
    <li>
      <a href="../articles/e_maintenance_guide.html">Maintenance guidance</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/imbi-heidelberg/DescrTab2/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="e_maintenance_guide_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Maintenance guidance</h1>
            
            <h4 class="date">2021-11-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/imbi-heidelberg/DescrTab2/blob/master/vignettes/e_maintenance_guide.Rmd"><code>vignettes/e_maintenance_guide.Rmd</code></a></small>
      <div class="hidden name"><code>e_maintenance_guide.Rmd</code></div>

    </div>

    
    
<div id="intoduction" class="section level2">
<h2 class="hasAnchor">
<a href="#intoduction" class="anchor"></a>Intoduction</h2>
<p><code>DescrTab2</code> is a powerful package with vast customization options. With this, unfortunately, comes code that has to deal with quite a bit of special cases an exceptions. This document aims to describe the flow of control of the <code>DescrTab2</code> package, so that future generations may continue development and successfully fix potential bugs.</p>
</div>
<div id="flow-of-control" class="section level2">
<h2 class="hasAnchor">
<a href="#flow-of-control" class="anchor"></a>Flow of control</h2>
<div id="descr" class="section level3">
<h3 class="hasAnchor">
<a href="#descr" class="anchor"></a>descr</h3>
<p>The user interfaces mostly with the <code>descr</code> function. <code>descr</code> does all the calculations, i.e. the evaluation of the summary statistics on the data (mean, sd, median, etc. for continuous variables and counts for categorical variables) and the calculation of statistical tests. For this <code>descr</code> calls the <code>descr_cat</code> and <code>descr_cont</code> functions, which evaluate the list of summary statistics on the data. <code>descr_cat</code> then calls <code>test_cat</code> and <code>descr_cont</code> calls <code>test_cont</code>, which calculate appropriate statistical tests. A detailed description for the choice of test can be read in the “Test choice” vignette.</p>
<p><code>descr</code> returns a <code>DescrList</code> object, which is basically a named list containing all calculation results and the formatting options.</p>
</div>
<div id="print" class="section level3">
<h3 class="hasAnchor">
<a href="#print" class="anchor"></a>print</h3>
<p>To turn a <code>DescrList</code> object into pretty output, the object has to be passed to the print function. <code>print</code> is a generic function. This means that if a <code>DescrList</code> object is passed to <code>print</code>, the specialized <code>print.DescrList</code> function will be invoked automatically.</p>
<div id="preprocessing" class="section level4">
<h4 class="hasAnchor">
<a href="#preprocessing" class="anchor"></a>Preprocessing</h4>
<p>Since the proper output format is highly document type dependent, <code>print.DescrList</code> creates output in two steps. The first step is independent of the output format: The creation of a <code>DescrPrintObj</code> by calling the <code>create_printObj</code> function.</p>
<p>In this function, proper formatting is applied to the results in the <code>DescrList</code> and the formatted values are saved inside a tibble. Formatting in this case means converting numbers to characters, reducing the number of decimal digits, combining variables like “Q1” and “Q3” into “Q1 - Q3”, formatting small p values to display as “&lt;0.001” and adding “%” values to categorical variables.</p>
<p>Somewhat of an exception is the case <code>printFormat="numeric"</code>. Here, numbers are not converted characters and consequently very little formatting can be applied.</p>
<p>The formatting in <code>create_printObj</code> is done by iterating over all variables in the <code>DescrList</code> object and creating an appropriate sub-table by calling one of <code>create_numeric_subtable.cat_summary</code>, <code>create_numeric_subtable.cont_summary</code>, <code>create_character_subtable.cat_summary</code> or <code>create_character_subtable.cont_summary</code>. Whether <code>create_numeric_subtable</code> or <code>create_character_subtable</code> is called is determined by the <code>printFormat</code> option (all options lead to <code>create_character_subtable</code> except <code>printFormat="numeric</code>). Whether <code>.cat_summary</code> or <code>.cont_summary</code> is called depends on the type of variable. The sub-tables are then concatenated to a master table.</p>
</div>
<div id="postprocessing" class="section level4">
<h4 class="hasAnchor">
<a href="#postprocessing" class="anchor"></a>Postprocessing</h4>
<p>The <code>DescrPintObj</code> is the transformed into appropriate output format by calling one of <code>print_tex</code>, <code>print_html</code>, <code>print_word</code>, <code>print_console</code> or <code>print_numeric</code>.</p>
<p><code>print_console</code> basically prints the tibble that is produces by <code>create_printObj</code> using a slightly modified version of the default method for printing tibbles.</p>
<p><code>print_numeric</code> basically prints the tibble produces by <code>create_printObj</code> if <code>printFormat="numeric"</code> was specified.</p>
<p><code>print_tex</code> and <code>print_html</code> use kableExtra to convert the tibble from <code>create_printObj</code> into raw tex or html output. Some special formatting has to be applied to these outputs to accomodate for superscripts and to escape special LaTeX characters.</p>
<p><code>print_word</code> produces a flextable object from the tibble returned by <code>create_printObj</code>. flextables play relatively nicely with word.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jan Meis, Lukas Baumann, Maximilian Pilz, Lukas Sauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
